<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Design Chaos experiments :: OpenShift Chaos Engineering Workshop</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/course-template/chaos-engineering/5.0/chaos-design.html">
    <link rel="prev" href="index.html">
    <link rel="next" href="chaos-environment.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img
          src="../../_/img/header_logo.png" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" href="https://redhat-scholars.github.io/course-template">OpenShift Chaos Engineering Workshop</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Books</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">CheatSheets</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">CheatSheet A</a>
            <a class="navbar-item" href="#">CheatSheet B</a>
            <a class="navbar-item" href="#">CheatSheet C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Upcoming Events</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Event A</a>
            <a class="navbar-item" href="#">Event B</a>
            <a class="navbar-item" href="#">Event C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Tutorial A</a>
            <a class="navbar-item" href="#">Tutorial B</a>
            <a class="navbar-item" href="#">Tutorial C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="chaos-engineering" data-version="5.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html" class=" query-params-link">OpenShift Chaos Engineering Workshop</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="chaos-design.html">1. Design Chaos experiments</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="chaos-environment.html">2. Get your Chaos environment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="chaos-explore.html">3. Explore the Application</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="chaos-metrics.html">4. Define and monitor Chaos metrics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="chaos-latency.html">5. Chaos Experiment 1: Network latency</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="chaos-error.html">6. Chaos Experiment 2: Unavailable Service</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="faq.html">7. FAQ</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenShift Chaos Engineering Workshop</span>
    <span class="version">5.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">OpenShift Chaos Engineering Workshop</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">5.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenShift Chaos Engineering Workshop</a></li>
    <li><a href="chaos-design.html">1. Design Chaos experiments</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/chaos-engineering-guide/edit/5.0/documentation/modules/ROOT/pages/chaos-design.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Design Chaos experiments</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>2 MINUTE PRACTICE</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_chaos_engineering"><a class="anchor" href="#_what_is_chaos_engineering"></a>What is Chaos Engineering?</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title">Principles of Chaos Engineering</div>
<div class="paragraph">
<p>According to the Principles of Chaos Engineering (<a href="https://principlesofchaos.org/" target="_blank" rel="noopener">https://principlesofchaos.org/</a>),</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Chaos Engineering</strong> is the discipline of experimenting on a system in order to build confidence in the system&#8217;s capability to withstand turbulent conditions in production.</p>
</li>
<li>
<p><strong>Chaos Engineering</strong>'s sole purpose is to provide evidence of system weaknesses (sometimes called <a href="https://snafucatchers.github.io/#4_6_Dark_Debt" target="_blank" rel="noopener">Dark Debt</a>)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Take an example where you have two services that communicate with each other.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/simple-2-service.png" alt="simple-2-service - A simple two-service system" width="700">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>What should happen if <strong>Service Y</strong> dies ?</p>
</li>
<li>
<p>What will happen to <strong>Service X</strong> if <strong>Service Y</strong> starts responding slowly ?</p>
</li>
<li>
<p>What happens if <strong>Service Y</strong> comes back after going away for a period of time?</p>
</li>
<li>
<p>What happens if the connection between <strong>Service X</strong> and <strong>Service Y</strong> becomes increasingly busy ?</p>
</li>
<li>
<p>What happens if the CPU that is being used by <strong>Service Y</strong> is maxed out? and most importantly, what does this all mean to the user?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You might believe you&#8217;ve designed the services and the infrastructure perfectly to accomodate all of these cases, but <em><strong>how to you know</strong></em> ? Even in such a simple system it is likely there might be some surprises --some <strong>dark debt</strong>&#8201;&#8212;&#8201;present.</p>
</div>
<div class="paragraph">
<p><strong>Chaos engineering provides a way of exploring these uncertainties to find out whether your assumptions of the system&#8217;s resiliency hold water in the real world.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plan_a_chaos_experiment"><a class="anchor" href="#_plan_a_chaos_experiment"></a>Plan a Chaos Experiment</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Chaos Engineering</strong> begins by asking the question :</p>
</div>
<div class="paragraph">
<p><strong>"Do we know what the system might do in this case ?"</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/process-chaos.png" alt="process-chaos" width="800">
</div>
</div>
<div class="paragraph">
<p>The general process for chaos engineering looks as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Define a steady-state hypothesis:</strong> You need to start with an idea of what can go awry. Start with a failure to inject and predict an outcome for when it is running live.</p>
</li>
<li>
<p><strong>Confirm the steady-state and simulate some real-world events:</strong> Perform tests using real-world scenarios to see how your system behaves under particular stress conditions or circumstances.</p>
</li>
<li>
<p><strong>Confirm the steady-state again:</strong> We need to confirm what changes occurred, so checking it again gives us insights into system behavior.</p>
</li>
<li>
<p><strong>Collect metrics and observe dashboards:</strong> You need to measure your system’s durability and availability. It is best practice to use key performance metrics that correlate with customer success or usage. We want to measure the failure against our hypothesis by looking at factors like impact on latency or requests per second.</p>
</li>
<li>
<p><strong>Make changes and fix issues:</strong> After running an experiment, you should have a good idea of what is working and what needs to be altered. Now we can identify what will lead to an outage, and we know exactly what breaks the system. So, go fix it, and try again with a new experiment.</p>
</li>
</ol>
</div>
<div class="exampleblock">
<div class="content">
<div class="imageblock">
<div class="content">
<img src="_images/chaos-engineering-process.png" alt="chaos-engineering-process" width="600">
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Later on this workshop we will use <strong>Openshift Service Mesh</strong> to inject failures in our <strong>Experiment</strong> .</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/Chaos-Learning-Loop.png" alt="chaos-engineering-learning-loop" width="800">
</div>
</div>
<div class="paragraph">
<p>Following the <strong>Chaos Engineering Learning Loop</strong> the initial step is to <strong>Explore</strong> the target system, i.e our application, to attempt to surface or <strong>discover</strong> any weaknesses. The <strong>Experiments</strong> we will use are already written for you, using (<a href="chaos-latency.html" class="page">5. Chaos Experiment 1: Network latency</a>) and (<a href="chaos-error.html" class="page">6. Chaos Experiment 2: Unavailable Service</a>).</p>
</div>
<div class="paragraph">
<p><strong>Kiali</strong> and <strong>Openshift Developer Console</strong> (<a href="chaos-explore.html" class="page">3. Explore the Application</a>) will allow you to <strong>explore</strong> and to <strong>discover</strong> the application. <strong>Grafana</strong> (<a href="chaos-metrics.html" class="page">4. Define and monitor Chaos metrics</a> is part of the Discovery of the application too.</p>
</div>
<div class="paragraph">
<p>When you will be ready to execute your experiment (<a href="chaos-latency.html" class="page">5. Chaos Experiment 1: Network latency</a>) and (<a href="chaos-error.html" class="page">6. Chaos Experiment 2: Unavailable Service</a>) you will see how the target system is reacting. You will enter the <strong>discovery</strong> and <strong>analysis</strong> phases of the <strong>Chaos Engineering Learning Loop</strong> and after the <strong>analysis</strong> you will <strong>Improve</strong> and <strong>Validate</strong> the correction made.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html" class="query-params-link">OpenShift Chaos Engineering Workshop</a></span>
  <span class="next"><a href="chaos-environment.html" class="query-params-link">2. Get your Chaos environment</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../../_/js/vendor/clipboard.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
